{% extends "base.html" %}
{% block content %}
<div class="container">
  <!-- Первый ряд с кнопками -->
  <div class="row" style="align-items: center;">
    <div class="w-50"><a href="/" class="button">← Назад</a></div>
    <div class="w-50" style="text-align: right;"><a href="/tickers/new" class="button">Добавить тикер</a></div>
  </div>

  <!-- Второй ряд с таблицей -->
  <div class="row">
    <div class="widget w-100">
      <h2><i class="fas fa-table icon"></i> Информация по тикерам</h2>
      <h2 style="color: red;">Шаблон работает!</h2>
      <table style="width: 100%; border-collapse: collapse;">
        <thead>
          <tr>
            <th>Название</th>
            <th>Курс</th>
            <th style="background-color: #eef1f4">Winrate 24h</th>
            <th style="background-color: #eef1f4">ROI 24h</th>
            <th style="background-color: #dce1e6">Winrate 7d</th>
            <th style="background-color: #dce1e6">ROI 7d</th>
            <th>Статус</th>
            <th>Управление</th>
          </tr>
        </thead>
        <tbody>
          {% for t in tickers %}
          <tr>
            <td><a href="/tickers/{{ t.symbol }}">{{ t.symbol }}</a></td>
            <td>{{ t.price if t.price else 'n/a' }} <span style="color: green;">▲</span></td>
            <td style="background-color: #eef1f4">{{ t.winrate_24h if t.winrate_24h else 'n/a' }}</td>
            <td style="background-color: #eef1f4">{{ t.roi_24h if t.roi_24h else 'n/a' }}</td>
            <td style="background-color: #dce1e6">{{ t.winrate_7d if t.winrate_7d else 'n/a' }}</td>
            <td style="background-color: #dce1e6">{{ t.roi_7d if t.roi_7d else 'n/a' }}</td>
            <td><span style="color: orange;">●</span></td>
            <td>
              <button onclick="toggleStatus(this)">Включить</button>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

<script>
function toggleStatus(btn) {
  const isActive = btn.textContent.trim() === 'Выключить';
  btn.textContent = isActive ? 'Включить' : 'Выключить';
  btn.style.backgroundColor = isActive ? '#e0e0e0' : '#cce5ff';
  // Здесь можно добавить fetch-запрос для активации/деактивации
}
</script>
{% endblock %}
