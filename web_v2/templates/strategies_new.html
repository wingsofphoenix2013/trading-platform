<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–ù–æ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      function generateTPRows() {
        const count = parseInt(document.getElementById('tp_count').value);
        const container = document.getElementById('tp_table');
        container.innerHTML = '';
        for (let i = 1; i <= count; i++) {
          container.innerHTML += `
            <tr class="border-t">
              <td class="px-3 py-2">${i}</td>
              <td><input type="number" name="volume_${i}" class="w-full px-2 py-1 border rounded" placeholder="%" /></td>
              <td>
                <select name="tp_type_${i}" class="w-full px-2 py-1 border rounded" onchange="toggleTPValueInput(${i}, this.value)">
                  <option value="">–í—ã–±–æ—Ä...</option>
                  <option value="percent">percent</option>
                  <option value="atr">atr</option>
                  <option value="fixed">fixed</option>
                  <option value="external_signal">external_signal</option>
                </select>
              </td>
              <td id="tp_value_cell_${i}">
                <!-- –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–æ–ª–µ -->
              </td>
            </tr>`;
        }
      }
      function toggleTPValueInput(level, type) {
        const cell = document.getElementById(`tp_value_cell_${level}`);
        if (type === 'external_signal') {
          cell.innerHTML = `<select class='w-full px-2 py-1 border rounded'><option>–í—ã–±–æ—Ä...</option><option>RSI Exit [enabled]</option><option>Trend Reversal [disabled]</option></select>`;
        } else if (type === 'percent' || type === 'atr' || type === 'fixed') {
          cell.innerHTML = `<input type='number' class='w-full px-2 py-1 border rounded' placeholder='–ó–Ω–∞—á–µ–Ω–∏–µ' />`;
        } else {
          cell.innerHTML = '';
        }
      }
    </script>
    <style>
      body {
        background: linear-gradient(to bottom right, #e0f2ff, #fde2e4);
      }
    </style>
  </head>
  <body class="min-h-screen font-sans text-slate-800">
    <main class="max-w-4xl mx-auto px-4 py-10 space-y-10">
      <h2 class="text-3xl font-semibold text-blue-900">–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏</h2>

      <!-- üîπ –ë–ª–æ–∫ 1: –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
      <section class="space-y-4">
        <h3 class="text-xl font-semibold text-blue-800">–û–±—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h3>
        <input placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ" class="w-full px-3 py-2 border rounded" />
        <textarea placeholder="–û–ø–∏—Å–∞–Ω–∏–µ" class="w-full px-3 py-2 border rounded"></textarea>
        <div class="grid grid-cols-3 gap-4">
          <input type="number" placeholder="–î–µ–ø–æ–∑–∏—Ç" class="w-full px-3 py-2 border rounded" />
          <input type="number" placeholder="–ú–∞–∫—Å. —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏" class="w-full px-3 py-2 border rounded" />
          <input type="number" placeholder="–ú–∞–∫—Å. —Ä–∏—Å–∫, %" class="w-full px-3 py-2 border rounded" />
        </div>
        <select class="w-full px-3 py-2 border rounded">
          <option>–í—ã–±–æ—Ä —É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ —Å–∏–≥–Ω–∞–ª–∞...</option>
          <option>Impulse Start [enabled]</option>
          <option>Breakout [disabled]</option>
        </select>
        <select class="w-full px-3 py-2 border rounded">
          <option>–í—ã–±–æ—Ä —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞...</option>
          <option>M1</option>
          <option>M5</option>
          <option>M15</option>
        </select>
      </section>

      <!-- üîπ –ë–ª–æ–∫ 2: SL -->
      <section class="space-y-4">
        <h3 class="text-xl font-semibold text-blue-800">Stop-Loss</h3>
        <label><input type="checkbox" checked /> –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SL</label>
        <select class="w-full px-3 py-2 border rounded">
          <option>–í—ã–±–æ—Ä —Ç–∏–ø–∞ SL...</option>
          <option value="percent">percent</option>
          <option value="atr">atr</option>
        </select>
        <input type="number" placeholder="–ó–Ω–∞—á–µ–Ω–∏–µ SL" class="w-full px-3 py-2 border rounded" />
      </section>

      <!-- üîπ –ë–ª–æ–∫ 3: TP -->
      <section class="space-y-4">
        <h3 class="text-xl font-semibold text-blue-800">Take Profit</h3>
        <select id="tp_count" onchange="generateTPRows()" class="w-full px-3 py-2 border rounded">
          <option value="">–í—ã–±–æ—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É—Ä–æ–≤–Ω–µ–π...</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
        </select>
        <table class="w-full table-auto text-sm text-left border rounded">
          <thead class="bg-slate-100">
            <tr>
              <th class="px-3 py-2">#</th>
              <th class="px-3 py-2">–û–±—ä—ë–º, %</th>
              <th class="px-3 py-2">–¢–∏–ø TP</th>
              <th class="px-3 py-2">–ó–Ω–∞—á–µ–Ω–∏–µ / –°–∏–≥–Ω–∞–ª</th>
            </tr>
          </thead>
          <tbody id="tp_table" class="bg-white/80"></tbody>
        </table>
      </section>

      <!-- üîπ –ë–ª–æ–∫ 4: –¢–∏–∫–µ—Ä—ã -->
      <section class="space-y-4">
        <h3 class="text-xl font-semibold text-blue-800 flex items-center justify-between">
          –¢–∏–∫–µ—Ä—ã
          <label class="text-sm"><input type="checkbox" id="use_all_tickers" checked disabled /> –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å–µ</label>
        </h3>
        <table class="w-full table-auto text-sm text-left border rounded">
          <thead class="bg-slate-100">
            <tr>
              <th class="px-3 py-2">#</th>
              <th class="px-3 py-2">–¢–∏–∫–µ—Ä</th>
              <th class="px-3 py-2">–°—Ç–∞—Ç—É—Å</th>
              <th class="px-3 py-2">–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ</th>
              <th class="px-3 py-2">‚úÖ</th>
            </tr>
          </thead>
          <tbody class="bg-white/80">
            <tr><td class="px-3 py-2">1</td><td>BTCUSDT</td><td>enabled</td><td>enabled</td><td><input type="checkbox" checked /></td></tr>
            <tr><td class="px-3 py-2">2</td><td>ETHUSDT</td><td>enabled</td><td>enabled</td><td><input type="checkbox" checked /></td></tr>
            <tr><td class="px-3 py-2">3</td><td>DOGEUSDT</td><td>enabled</td><td>enabled</td><td><input type="checkbox" checked /></td></tr>
          </tbody>
        </table>
      </section>

      <!-- üîπ –ö–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å -->
      <div class="text-right">
        <button onclick="alert('–§–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ (–∑–∞–≥–ª—É—à–∫–∞)')" class="bg-blue-600 text-white px-6 py-2 rounded-xl shadow hover:bg-blue-700 hover:shadow-lg transition-all">
          –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é
        </button>
      </div>
    </main>
  </body>
</html>
